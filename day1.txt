#!/bin/bash
# This script prints Java and Python version as JSON for Ansible custom facts

JAVA_VER=$(java -version 2>&1 | awk -F '"' '/version/ {print $2}')
PYTHON_VER=$(python3 --version 2>&1 | awk '{print $2}')

cat <<EOF
{
  "java_version": "${JAVA_VER:-not_installed}",
  "python_version": "${PYTHON_VER:-not_installed}"
}
EOF
